"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[376],{5768:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},2181:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}},6785:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}},460:function(n,e,t){var r,i,s,o,c=t(1413),a=t(4925),d=t(168),l=(t(2791),t(6031)),u=t(3504),h=t(184),x=["type","onClick","children","kind"],f=l.ZP.button(r||(r=(0,d.Z)(["\n  cursor: pointer;\n\n  /* padding: 10px 0; */\n  height: ",";\n  line-height: 1;\n\n  ",";\n  ",";\n  ",";\n  border-radius: 8px;\n  font-weight: 600;\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  .loadingsvg {\n    width: 40px;\n    height: 40px;\n    margin: 0 auto;\n  }\n"])),(function(n){return n.height||"50px"}),(function(n){return"secondary"===n.kind&&(0,l.iv)(i||(i=(0,d.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"primary"===n.kind&&(0,l.iv)(s||(s=(0,d.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(n){return n.theme.primary}),(function(n){return n.theme.secondary}))}),(function(n){return"ghost"===n.kind&&(0,l.iv)(o||(o=(0,d.Z)(["\n      color: ",";\n      background-color: rgba(29, 192, 113, 0.1);\n      padding: 10px;\n    "])),(function(n){return n.theme.primary}))}));e.Z=function(n){var e=n.type,t=void 0===e?"button":e,r=n.onClick,i=void 0===r?function(){}:r,s=n.children,o=n.kind,d=void 0===o?"primary":o,l=(0,a.Z)(n,x),p=l.isLoading,v=l.to,g=p?(0,h.jsx)("img",{src:"/Spin-1s-200px.svg",className:"loadingsvg",alt:""}):s;return""!==v&&"string"===typeof v?(0,h.jsx)(u.OL,{to:v,children:(0,h.jsx)(f,(0,c.Z)((0,c.Z)({type:t,kind:d},l),{},{children:g}))}):(0,h.jsx)(f,(0,c.Z)((0,c.Z)({type:t,kind:d,onClick:i},l),{},{children:g}))}},6024:function(n,e,t){var r=t(1413),i=t(4925),s=(t(2791),t(5066)),o=t(184),c=["children"];e.Z=function(n){var e=n.children,t=(0,i.Z)(n,c);return(0,o.jsx)(s.K,(0,r.Z)((0,r.Z)({},t),{},{children:(0,o.jsx)("div",{className:"relative inline-block w-full z-30 ",children:e})}))}},4170:function(n,e,t){t(2791);var r=t(5066),i=t(184);e.Z=function(n){var e=n.children,t=(0,r.x)().show;return(0,i.jsx)("div",{children:t&&(0,i.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm",children:e})})}},5421:function(n,e,t){t(2791);var r=t(5066),i=t(184);e.Z=function(n){var e=n.onClick,t=(0,r.x)().setShow;return(0,i.jsx)("div",{className:"px-5 py-4 cursor-pointer flex items-center justify-between hover:bg-gray-100 ",onClick:function(){e&&e(),t(!1)},children:n.children})}},5727:function(n,e,t){t(2791);var r=t(5066),i=t(184);e.Z=function(n){var e=n.placeholder,t=void 0===e?"":e,s=(0,r.x)(),o=s.show,c=s.toggle;return(0,i.jsxs)("div",{className:"flex items-center justify-between p-5 bg-[#E7ECF3] rounded cursor-pointer font-medium",onClick:c,children:[(0,i.jsx)("span",{children:t}),(0,i.jsx)("span",{children:o?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})}},5066:function(n,e,t){t.d(e,{K:function(){return c},x:function(){return a}});var r=t(9439),i=t(2791),s=t(184),o=(0,i.createContext)();function c(n){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),c=t[0],a=t[1],d={show:c,setShow:a,toggle:function(){a(!c)}};return(0,s.jsx)(o.Provider,{value:d,children:n.children})}function a(){var n=(0,i.useContext)(o);if("undefined"===typeof n)throw new Error("useDropdown must be used within DropdownProvider");return n}},2753:function(n,e,t){var r,i=t(168),s=(t(2791),t(6031)),o=t(184),c=s.ZP.span(r||(r=(0,i.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"])));e.Z=function(n){var e=n.children,t=n.type,r="text-gray-500 bg-gray-100";switch(void 0===t?"default":t){case"success":r="text-green-500 bg-green-100";break;case"warning":r="text-orange-500 bg-orange-100";break;case"danger":r="text-red-500 bg-red-100"}return(0,o.jsx)(c,{className:r,children:e})}},1538:function(n,e,t){var r,i=t(168),s=(t(2791),t(6031)),o=t(184),c=s.ZP.div(r||(r=(0,i.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  /* height: 300px; */\n  /* Mobile styles (<640px) */\n  @media (max-width: 640px) {\n    /* Mobile styles */\n    width: 330px;\n  }\n  /* Tablet styles (>=768px and <1024px) */\n  @media (min-width: 640px) and (max-width: 1023px) {\n    width: 800px;\n  }\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));e.Z=function(n){var e=n.children;return(0,o.jsx)(c,{children:(0,o.jsx)("table",{children:e})})}},8322:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.title,t=void 0===e?"":e,i=n.desc,s=void 0===i?"":i,o=n.children;return(0,r.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:t}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:s})]}),o]})}},7376:function(n,e,t){t.r(e);var r=t(3433),i=t(1413),s=t(5861),o=t(9439),c=t(7757),a=t.n(c),d=t(2791),l=t(8322),u=t(6024),h=t(1538),x=t(460),f=t(5727),p=t(6871),v=t(9062),g=t(1199),m=t(6785),w=t(5768),j=t(2181),b=t(763),k=t(3585),Z=t(2753),y=t(1830),C=t.n(y),N=t(4170),L=t(5421),E=t(9808),P=t(184);e.default=function(){var n=(0,d.useState)([]),e=(0,o.Z)(n,2),t=e[0],c=e[1],y=(0,p.s0)(),S=(0,d.useState)(""),D=(0,o.Z)(S,2),I=D[0],M=D[1],A=(0,d.useState)(),B=(0,o.Z)(A,2),O=B[0],J=B[1],T=(0,d.useState)(0),z=(0,o.Z)(T,2),_=z[0],W=z[1],H=(0,d.useState)([]),R=(0,o.Z)(H,2),V=R[0],Y=R[1],G=(0,d.useState)(""),K=(0,o.Z)(G,2),Q=K[0],U=K[1],F=(0,d.useState)(""),q=(0,o.Z)(F,2),X=q[0],$=q[1],nn=function(){var n=(0,s.Z)(a().mark((function n(){var e,s,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.IO)((0,v.hJ)(g.db,"posts"),(0,v.TQ)(O),(0,v.b9)(1)),(0,v.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),c([].concat((0,r.Z)(t),e))})),n.next=4,(0,v.PL)(e);case 4:s=n.sent,o=s.docs[s.docs.length-1],J(o);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,d.useEffect)((function(){function n(){return(n=(0,s.Z)(a().mark((function n(){var e,t,r,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.hJ)(g.db,"posts"),t=e,I&&(t=(0,v.IO)(t,(0,v.ar)("title",">=",I)),t=(0,v.IO)(t,(0,v.ar)("title","<=",I+"utf8"))),I||Q||(t=(0,v.IO)(t,(0,v.b9)(2))),n.next=6,(0,v.PL)(t);case 6:r=n.sent,s=r.docs[r.docs.length-1],J(s),(0,v.cf)(e,(function(n){W(n.size)})),(0,v.cf)(t,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),c(e)}));case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[I,Q]);var en=(0,b.debounce)((function(n){M(n.target.value)}),500),tn=function(){var n=(0,s.Z)(a().mark((function n(){var e,t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.hJ)(g.db,"posts"),(0,v.cf)((0,v.IO)(e,(0,v.b9)(2)),(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),c(e)})),n.next=4,(0,v.PL)((0,v.IO)(e,(0,v.b9)(2)));case 4:t=n.sent,r=t.docs[t.docs.length-1],J(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),rn=function(n){switch(n){case k.cf.APPROVED:return(0,P.jsx)(Z.Z,{type:"success",children:"APPROVED"});case k.cf.PENDING:return(0,P.jsx)(Z.Z,{type:"warning",children:"PENDING"});case k.cf.REJECTED:return(0,P.jsx)(Z.Z,{type:"danger",children:"REJECTED"})}},sn=function(){var n=(0,s.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,v.JU)(g.db,"posts",e),C().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,s.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return n.next=3,(0,v.oe)(t);case 3:C().fire("Deleted!","Your Post has been deleted.","success");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();(0,d.useEffect)((function(){function n(){return(n=(0,s.Z)(a().mark((function n(){var e,t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,v.hJ)(g.db,"categories"),n.next=3,(0,v.PL)(e);case 3:t=n.sent,r=[],t.forEach((function(n){r.push((0,i.Z)({id:n.id},n.data()))})),Y(r);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[Y]);var on=function(){var n=(0,s.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,v.JU)(g.db,"categories",e.id),n.next=3,(0,v.QT)(t);case 3:r=n.sent,U(r.data().name),$(e.name);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,E.a)().userInfo.role!==k.xZ.ADMIN?(0,P.jsx)("div",{className:"text-[30px] font-semibold text-green-500 ",children:"This page is for admins only"}):(0,P.jsxs)("div",{children:[(0,P.jsx)(l.Z,{title:"All posts",desc:"Manage all posts"}),(0,P.jsxs)("div",{className:"mb-10 flex justify-end gap-5",children:[(0,P.jsx)("div",{className:"w-full max-w-[300px]",children:(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(f.Z,{placeholder:X||"Choose Category",children:"Category"}),(0,P.jsx)(N.Z,{children:V.length>0&&V.map((function(n){return(0,P.jsx)(L.Z,{onClick:function(){return on(n)},children:n.name},n.name)}))})]})}),(0,P.jsx)("div",{className:"w-full max-w-[300px]",children:(0,P.jsx)("input",{type:"text",className:"w-full p-4 rounded-lg border border-solid border-gray-300",placeholder:"Search post...",onChange:en})})]}),(0,P.jsxs)(h.Z,{children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[(0,P.jsx)("th",{children:"Id"}),(0,P.jsx)("th",{children:"Post"}),(0,P.jsx)("th",{children:"Category"}),(0,P.jsx)("th",{children:"Author"}),(0,P.jsx)("th",{children:"Status"}),(0,P.jsx)("th",{children:"Actions"})]})}),(0,P.jsx)("tbody",{children:t.length>0&&t.map((function(n){var e,t,r;return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{title:n.id,children:n.id.slice(0,5)+"..."}),(0,P.jsx)("td",{children:(0,P.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,P.jsx)("img",{src:n.image,alt:"",className:"w-[66px] h-[55px] rounded object-cover"}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)("h3",{title:n.title,className:"font-semibold whitespace-nowrap overflow-hidden overflow-ellipsis max-w-[150px] ",children:n.title}),(0,P.jsx)("time",{className:"text-sm text-gray-500",children:new Date(1e3*(null===n||void 0===n||null===(e=n.createdAt)||void 0===e?void 0:e.seconds)).toLocaleDateString("vi-VI")})]})]})}),(0,P.jsx)("td",{children:(0,P.jsx)("span",{className:"text-gray-500",children:null===(t=n.category)||void 0===t?void 0:t.name})}),(0,P.jsx)("td",{children:(0,P.jsx)("span",{className:"text-gray-500",children:null===(r=n.user)||void 0===r?void 0:r.fullname})}),(0,P.jsx)("td",{children:rn(n.status)}),(0,P.jsx)("td",{children:(0,P.jsxs)("div",{className:"flex items-center gap-x-3 text-gray-500",children:[(0,P.jsx)(m.Z,{onClick:function(){return y("/".concat(n.slug))}}),(0,P.jsx)(j.Z,{onClick:function(){return y("/manage/update-post?id=".concat(n.id))}}),(0,P.jsx)(w.Z,{onClick:function(){return sn(n.id)}})]})})]},n.id)}))})]}),(0,P.jsxs)("div",{className:"mt-10 text-center",children:[_>t.length&&!I&&(0,P.jsx)(x.Z,{kind:"ghost",className:"mx-auto w-[200px]",onClick:nn,children:"See more+"}),_<=t.length&&!I&&(0,P.jsx)(x.Z,{kind:"ghost",className:"mx-auto w-[200px]",onClick:tn,children:"Hide"})]})]})}}}]);
//# sourceMappingURL=376.1c4a8c3d.chunk.js.map