"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[462],{5768:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},2181:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.onClick,t=void 0===e?function(){}:e;return(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:t,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}},460:function(n,e,t){var r,i,s,a,c=t(1413),o=t(4925),d=t(168),l=(t(2791),t(6031)),u=t(3504),h=t(184),x=["type","onClick","children","kind"],f=l.ZP.button(r||(r=(0,d.Z)(["\n  cursor: pointer;\n\n  /* padding: 10px 0; */\n  height: ",";\n  line-height: 1;\n\n  ",";\n  ",";\n  ",";\n  border-radius: 8px;\n  font-weight: 600;\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  .loadingsvg {\n    width: 40px;\n    height: 40px;\n    margin: 0 auto;\n  }\n"])),(function(n){return n.height||"50px"}),(function(n){return"secondary"===n.kind&&(0,l.iv)(i||(i=(0,d.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"primary"===n.kind&&(0,l.iv)(s||(s=(0,d.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(n){return n.theme.primary}),(function(n){return n.theme.secondary}))}),(function(n){return"ghost"===n.kind&&(0,l.iv)(a||(a=(0,d.Z)(["\n      color: ",";\n      background-color: rgba(29, 192, 113, 0.1);\n      padding: 10px;\n    "])),(function(n){return n.theme.primary}))}));e.Z=function(n){var e=n.type,t=void 0===e?"button":e,r=n.onClick,i=void 0===r?function(){}:r,s=n.children,a=n.kind,d=void 0===a?"primary":a,l=(0,o.Z)(n,x),p=l.isLoading,v=l.to,m=p?(0,h.jsx)("img",{src:"/Spin-1s-200px.svg",className:"loadingsvg",alt:""}):s;return""!==v&&"string"===typeof v?(0,h.jsx)(u.OL,{to:v,children:(0,h.jsx)(f,(0,c.Z)((0,c.Z)({type:t,kind:d},l),{},{children:m}))}):(0,h.jsx)(f,(0,c.Z)((0,c.Z)({type:t,kind:d,onClick:i},l),{},{children:m}))}},2753:function(n,e,t){var r,i=t(168),s=(t(2791),t(6031)),a=t(184),c=s.ZP.span(r||(r=(0,i.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"])));e.Z=function(n){var e=n.children,t=n.type,r="text-gray-500 bg-gray-100";switch(void 0===t?"default":t){case"success":r="text-green-500 bg-green-100";break;case"warning":r="text-orange-500 bg-orange-100";break;case"danger":r="text-red-500 bg-red-100"}return(0,a.jsx)(c,{className:r,children:e})}},1538:function(n,e,t){var r,i=t(168),s=(t(2791),t(6031)),a=t(184),c=s.ZP.div(r||(r=(0,i.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  /* height: 300px; */\n  /* Mobile styles (<640px) */\n  @media (max-width: 640px) {\n    /* Mobile styles */\n    width: 330px;\n  }\n  /* Tablet styles (>=768px and <1024px) */\n  @media (min-width: 640px) and (max-width: 1023px) {\n    width: 800px;\n  }\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));e.Z=function(n){var e=n.children;return(0,a.jsx)(c,{children:(0,a.jsx)("table",{children:e})})}},8322:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.title,t=void 0===e?"":e,i=n.desc,s=void 0===i?"":i,a=n.children;return(0,r.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:t}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:s})]}),a]})}},6462:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r=t(2791),i=t(8322),s=t(3433),a=t(1413),c=t(5861),o=t(9439),d=t(7757),l=t.n(d),u=t(1538),h=t(9062),x=t(1199),f=t(2181),p=t(5768),v=t(6871),m=t(3585),g=t(2753),j=(t(289),t(577),t(1830)),b=t.n(j),w=t(763),y=t(460),k=t(184),Z=function(){var n=(0,v.s0)(),e=(0,r.useState)([]),t=(0,o.Z)(e,2),i=t[0],d=t[1],j=(0,r.useState)(""),Z=(0,o.Z)(j,2),N=Z[0],C=Z[1],A=(0,r.useState)(),I=(0,o.Z)(A,2),L=I[0],M=I[1],S=(0,r.useState)(0),B=(0,o.Z)(S,2),D=B[0],E=B[1],O=function(){var n=(0,c.Z)(l().mark((function n(){var e,t,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,h.IO)((0,h.hJ)(x.db,"users"),(0,h.TQ)(L),(0,h.b9)(1)),(0,h.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,a.Z)({id:n.id},n.data()))})),d([].concat((0,s.Z)(i),e))})),n.next=4,(0,h.PL)(e);case 4:t=n.sent,r=t.docs[t.docs.length-1],M(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,r.useEffect)((function(){function n(){return(n=(0,c.Z)(l().mark((function n(){var e,t,r,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,h.hJ)(x.db,"users"),t=N?(0,h.IO)(e,(0,h.ar)("fullname",">=",N),(0,h.ar)("fullname","<=",N+"utf8")):(0,h.IO)(e,(0,h.b9)(2)),n.next=4,(0,h.PL)(t);case 4:r=n.sent,i=r.docs[r.docs.length-1],M(i),(0,h.cf)(e,(function(n){E(n.size)})),(0,h.cf)(t,(function(n){var e=[];n.forEach((function(n){e.push((0,a.Z)({id:n.id},n.data()))})),d(e)}));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[N]);var P=function(n){switch(n){case m.xZ.ADMIN:return"Admin";case m.xZ.MOD:return"MOD";case m.xZ.USER:return"User"}},U=function(){var n=(0,c.Z)(l().mark((function n(e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,h.JU)(x.db,"users",e.id),b().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,c.Z)(l().mark((function n(e){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return n.next=3,(0,h.oe)(t);case 3:b().fire("Deleted!","Your User has been deleted.","success");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),_=(0,w.debounce)((function(n){C(n.target.value)}),500),T=function(){var n=(0,c.Z)(l().mark((function n(){var e,t,r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,h.hJ)(x.db,"users"),(0,h.cf)((0,h.IO)(e,(0,h.b9)(2)),(function(n){var e=[];n.forEach((function(n){e.push((0,a.Z)({id:n.id},n.data()))})),d(e)})),n.next=4,(0,h.PL)((0,h.IO)(e,(0,h.b9)(2)));case 4:t=n.sent,r=t.docs[t.docs.length-1],M(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=function(n){switch(n){case m.iQ.ACTIVE:return(0,k.jsx)(g.Z,{type:"success",children:"Active"});case m.iQ.PENDING:return(0,k.jsx)(g.Z,{type:"warning",children:"Pending"});case m.iQ.BAN:return(0,k.jsx)(g.Z,{type:"danger",children:"BAN"})}};return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"flex flex-col py-4 gap-x-5 gap-y-5 md:flex md:justify-end md:py-4 md:gap-x-5 md:flex-row",children:[(0,k.jsx)("input",{type:"text",placeholder:"Search.....",className:"border py-2 px-4 font-medium",onChange:_}),(0,k.jsx)(y.Z,{className:"p-4",to:"/manage/add-user",children:"Add New User"})]}),(0,k.jsxs)(u.Z,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Id"}),(0,k.jsx)("th",{children:"FullName"}),(0,k.jsx)("th",{children:"UserName"}),(0,k.jsx)("th",{children:"Email Address"}),(0,k.jsx)("th",{children:"Status"}),(0,k.jsx)("th",{children:"Role"}),(0,k.jsx)("th",{children:"Actions"})]})}),(0,k.jsx)("tbody",{children:i.length>0&&i.map((function(e){var t;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{title:e.id,children:e.id.slice(0,5)+"..."}),(0,k.jsx)("td",{className:"whitespace-nowrap",children:(0,k.jsxs)("div",{className:"flex item-center gap-x-3",children:[(0,k.jsx)("img",{src:null===e||void 0===e?void 0:e.avatar,alt:"img",className:"flex-shrink-0 w-10 h-10 rounded-md object-cover"}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h3",{children:null===e||void 0===e?void 0:e.fullname}),(0,k.jsx)("time",{className:"text-sm text-gray-300",children:new Date(1e3*(null===e||void 0===e||null===(t=e.createdAt)||void 0===t?void 0:t.seconds)).toLocaleDateString("vi-VI")})]})]})}),(0,k.jsx)("td",{children:null===e||void 0===e?void 0:e.username}),(0,k.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),(0,k.jsx)("td",{children:H(Number(null===e||void 0===e?void 0:e.status))}),(0,k.jsx)("td",{children:P(Number(null===e||void 0===e?void 0:e.role))}),(0,k.jsx)("td",{children:(0,k.jsxs)("div",{className:"flex iten-center gap-x-3",children:[(0,k.jsx)(f.Z,{onClick:function(){return n("/manage/update-user?id=".concat(e.id))}}),(0,k.jsx)(p.Z,{onClick:function(){return U(e)}})," "]})})]},e.id)}))})]}),D>i.length?(0,k.jsx)("div",{className:"mt-10 flex justify-center",children:(0,k.jsx)(y.Z,{kind:"ghost",className:"p-[10px] w-[200px]",onClick:O,children:"See More+"})}):(0,k.jsx)("div",{className:"mt-10 flex justify-center",children:(0,k.jsx)(y.Z,{kind:"ghost",className:"p-[10px] w-[200px]",onClick:T,children:"Hide"})})]})},N=t(9808),C=function(){var n=(0,N.a)().userInfo;(0,v.s0)();return n.role!==m.xZ.ADMIN?(0,k.jsx)("div",{className:"text-[30px] font-semibold text-green-500 ",children:"This page is for admins only"}):(0,k.jsxs)("div",{children:[(0,k.jsx)(i.Z,{title:"Users",desc:"Manage your user"}),(0,k.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=462.b4eb3cb1.chunk.js.map